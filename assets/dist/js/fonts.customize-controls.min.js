"use strict";!function(n){var i={};function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=n,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=29)}({29:function(t,e){var n,c,i,l,a;n=window.wp,c=window.themeFontsControlsData,i=window._,l=window.jQuery,(a=n.customize).SuperAwesomeThemeFontControl=a.Control.extend({ready:function(){var n=this,t=this.setting.get(),e=this.container.find('[data-setting-property="family"]'),i=this.container.find('[data-setting-property="weight"]'),r=this.container.find('[data-setting-property="size"]');this.currentFontStack=new a.Value(""),this.currentFontWeights=new a.Value(["400"]),this.initializeFontFamilySelect(e),this.initializeFontWeightSelect(i),this.currentFontWeights.bind(function(){var t=n.currentFontWeights.get(),e=n.setting.get();i.selectWoo("destroy"),i.html(""),n.initializeFontWeightSelect(i),t.includes(""+e.weight)||i.val(t[0]).trigger("change")}),t.family&&t.family.length&&e.val(t.family).trigger("change"),t.weight&&t.weight.length&&i.val(t.weight).trigger("change"),t.size&&r.val(t.size).trigger("change"),e.on("change",function(){n.saveValue("family",e.val())}),i.on("change",function(){n.saveValue("weight",i.val())}),r.on("change input",function(){n.saveValue("size",r.val())})},saveValue:function(t,e){var n=i.clone(this.setting.get());n[t]=e,this.setting.set(n)},initializeFontFamilySelect:function(t){var n=this,i={},a={},o={},r=this.setting.get();c.fontFamilyGroups.forEach(function(t){i[t.id]={id:t.id,text:t.label,children:[]},a[t.id]={id:t.id,text:t.label,children:[]},o[t.id]={id:t.id,text:t.label,children:[]}}),c.fontFamilies.forEach(function(t){var e={id:t.id,text:t.label,fontStack:t.stackString.replace(/"/g,"'"),fontWeights:t.weights};t.api&&(e.fontApi=t.api),i[t.group]&&(i[t.group].children.push(e),r.family===t.id&&(n.currentFontStack.set(t.stackString.replace(/"/g,"'")),n.currentFontWeights.set(t.weights)),r.family===t.id||t.include?a[t.group].children.push(e):o[t.group].children.push(e))}),t.selectWoo({data:Object.values(i),matcher:function(t,e){var n=l.trim(t.term),i=new RegExp(n,"i"),r={};return e.id&&e.text&&e.children?(r.id=e.id,r.text=e.text,r.children=[],3<n.length?(r.children=r.children.concat(a[e.id].children.filter(function(t){return!!t.id.match(i)})),r.children=r.children.concat(o[e.id].children.filter(function(t){return!!t.id.match(i)}))):r.children=r.children.concat(a[e.id].children),r.children.length?r:null):null},templateResult:function(t){var e="";return t.id&&t.fontStack?(t.fontApi&&c.apis[t.fontApi]&&(e+=" <small>("+c.apis[t.fontApi]+")</small>"),l('<span style="font-family:'+t.fontStack+';">'+t.text+"</span>"+e)):t.text}}),t.on("select2:select",function(t){t.params.data.fontStack&&(n.currentFontStack.set(t.params.data.fontStack),n.currentFontWeights.set(t.params.data.fontWeights))})},initializeFontWeightSelect:function(t){var e,n,i=this;t.selectWoo({data:(e=this.currentFontWeights.get(),n=[],c.fontWeights.forEach(function(t){e.includes(""+t.id)&&n.push({id:t.id,text:t.label})}),n),templateResult:function(t){return t.id?l('<span style="font-family:'+i.currentFontStack.get()+";font-weight:"+t.id+';">'+t.text+"</span>"):t.text}})}}),a.bind("ready",function(){c.fonts.forEach(function(t){t.live_preview&&a.instance(t.id,function(t){t.transport="postMessage"}),a.control.add(new a.SuperAwesomeThemeFontControl(t.id,{id:t.id,setting:t.id,section:t.group,label:t.title,type:"super_awesome_theme_font"}))})})}});