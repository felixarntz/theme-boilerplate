"use strict";!function(n){var i={};function o(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=29)}({2:function(t,e,n){e.a=function(t){var e=window.wp.i18n,n=e.__,i=e.sprintf,o=t&&t.length?window.wp.customize.panel.instance(t):void 0;return o?i(n("Customizing &#9656; %s","super-awesome-theme"),o.params.title):n("Customizing","super-awesome-theme")}},29:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i,c,o,s,r,l,a=n(2);i=window.wp,c=window.themeFontsControlsData,o=window._,s=window.jQuery,r=i.customize,l=i.i18n.__,r.SuperAwesomeThemeFontControl=r.Control.extend({ready:function(){var n=this,t=this.setting.get(),e=this.container.find('[data-setting-property="family"]'),i=this.container.find('[data-setting-property="weight"]'),o=this.container.find('[data-setting-property="size"]');this.currentFontStack=new r.Value(""),this.currentFontWeights=new r.Value(["400"]),this.initializeFontFamilySelect(e),this.initializeFontWeightSelect(i),this.currentFontWeights.bind(function(){var t=n.currentFontWeights.get(),e=n.setting.get();i.selectWoo("destroy"),i.html(""),n.initializeFontWeightSelect(i),t.includes(""+e.weight)||i.val(t[0]).trigger("change")}),t.family&&t.family.length&&e.val(t.family).trigger("change"),t.weight&&t.weight.length&&i.val(t.weight).trigger("change"),t.size&&o.val(t.size).trigger("change"),e.on("change",function(){n.saveValue("family",e.val())}),i.on("change",function(){n.saveValue("weight",i.val())}),o.on("change input",function(){n.saveValue("size",o.val())}),this.setting.bind(function(){console.log(n.setting.get())})},saveValue:function(t,e){var n=o.clone(this.setting.get());n[t]=e,this.setting.set(n)},initializeFontFamilySelect:function(t){var n=this,i={},r={},a={},o=this.setting.get();c.fontFamilyGroups.forEach(function(t){i[t.id]={id:t.id,text:t.label,children:[]},r[t.id]={id:t.id,text:t.label,children:[]},a[t.id]={id:t.id,text:t.label,children:[]}}),c.fontFamilies.forEach(function(t){var e={id:t.id,text:t.label,fontStack:t.stackString.replace(/"/g,"'"),fontWeights:t.weights};t.files&&(e.fontFiles=t.files),i[t.group]&&(i[t.group].children.push(e),o.family===t.id&&(n.currentFontStack.set(t.stackString.replace(/"/g,"'")),n.currentFontWeights.set(t.weights)),o.family===t.id||t.include?r[t.group].children.push(e):a[t.group].children.push(e))}),t.selectWoo({data:Object.values(i),matcher:function(t,e){var n=s.trim(t.term),i=new RegExp(n,"i"),o={};return e.id&&e.text&&e.children?(o.id=e.id,o.text=e.text,o.children=[],3<n.length?(o.children=o.children.concat(r[e.id].children.filter(function(t){return!!t.id.match(i)})),o.children=o.children.concat(a[e.id].children.filter(function(t){return!!t.id.match(i)}))):o.children=o.children.concat(r[e.id].children),o.children.length?o:null):null},templateResult:function(t){var e="";return t.id&&t.fontStack?(t.fontFiles&&(e+=" <small>"+l("(Web Font)","super-awesome-theme")+"</small>"),s('<span style="font-family:'+t.fontStack+';">'+t.text+"</span>"+e)):t.text}}),t.on("select2:select",function(t){t.params.data.fontStack&&(n.currentFontStack.set(t.params.data.fontStack),n.currentFontWeights.set(t.params.data.fontWeights))})},initializeFontWeightSelect:function(t){var e,n,i=this;t.selectWoo({data:(e=this.currentFontWeights.get(),n=[],c.fontWeights.forEach(function(t){e.includes(""+t.id)&&n.push({id:t.id,text:t.label})}),n),templateResult:function(t){return t.id?s('<span style="font-family:'+i.currentFontStack.get()+";font-weight:"+t.id+';">'+t.text+"</span>"):t.text}})}}),r.bind("ready",function(){r.panel.instance("fonts",function(e){var n=Object(a.a)(e.id);c.groups.forEach(function(t){r.section.instance(t.id)||r.section.add(new r.Section(t.id,{panel:e.id,title:t.title,customizeAction:n}))}),c.fonts.forEach(function(t){t.live_preview&&r.instance(t.id,function(t){t.transport="postMessage"}),r.control.add(new r.SuperAwesomeThemeFontControl(t.id,{id:t.id,setting:t.id,section:t.group,label:t.title,type:"super_awesome_theme_font"}))})})})}});